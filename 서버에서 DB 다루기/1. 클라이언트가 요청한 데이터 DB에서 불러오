게시판 사이트를 만든다고 가정하고, 클라이언트가 특정 게시글 번호(id)를 요청하면 서버에서 해당 게시글을 DB에서 찾아 페이지 뷰로 반환하는 코드를 작성해보겠다.

```java
	   [ArticleController.java] 
	   
    @GetMapping("/article/{id}")
    public String show(@PathVariable Long id, Model model){
        //DB에서 클라이언트가 요청한 ID의 레코드 검색(엔티티 형태로 반환)
        //Model에 엔티티 값 전달
        return "show";
    }
```

Controller에 다음과 같은 코드를 추가한다. 사용자로부터 임의의 요청을 받고, 해당 정보를 DB에서 찾아 반환하는 기본 구조이다. 우선 @GetMapping("/articles/{id}")을 살펴보면 {id}처럼 처음보는 식이 있다. 클라이언트가 …/articles/0이나 …/articles/1처럼 0번과 1번 게시글을 보여달라는 요청을 할 때 id 라는 변수명으로 해당 값을 가져오겠다는 의미다.

이제 받아온 id값으로 DB에서 검색을 해보겠다.

```java
//DB에서 클라이언트가 요청한 ID의 레코드 검색
ArticleEntity art = artRepo.findById(id);
```

CrudRepository에서 제공하는 findById메서드를 활용해 해당 id값을 가진 레코드를 찾아서 반환할 수 있다. 하지만 위와 같이 작성하면 문법 오류가 뜬다. findById메서드는 반환값이 Optional<ArticleEntity>형식이기 때문이다. 이럴때는 Optional<T>객체에서 지원하는 orElse 메서드를 사용하면

```java
ArticleEntity art = artRepo.findById(id).orElse(null);
```

위와 같이 검색에 성공했을 때는 ArticleEntity형태의 값을 반환하고, 검색에 실패하면 null을 반환한다.

```java
//Model에 엔티티 값 전달
model.addAttribute("article", art);
```

모델에 저장할때는 위와 같이 Entity객체를 저장하면 된다. 이제 뷰 페이지를 제작해보겠다.

기본적으로 아래와 같이 사용하겠다.

```html
{{>layouts/header}}

<table class="table">
    <thead>
    <tr>
        <th scope="col">ID</th>
        <th scope="col">Title</th>
        <th scope="col">Content</th>
    </tr>
    </thead>
    <tbody>
    {{#article}}
    <tr>
        <th>{{id}}</th>
        <td>{{title}}</td>
        <td>{{content}}</td>
    </tr>
    {{/article}}
    </tbody>
</table>

{{>layouts/footer}}
```

Entity같은 경우 일반적인 변수 사용법인 {{}}와는 조금 다르다. 일반적인 <시작태그> </시작태그>처럼 Entity 사용 범위를 지정한다. 이때 시작태그에는 #를, 끝 태그에는 /를 사용한다. Entity 필드변수에 접근하려면 {{}}으로 접근하면 된다. 이렇게 하고 [localhost:8080/new](http://localhost:8080/new) 에서 데이터를 입력하고 [localhost:8080/articles/1](http://localhost:8080/articles/1로) 로 접근하면 방금 입력했던 값들을 볼 수 있다.
